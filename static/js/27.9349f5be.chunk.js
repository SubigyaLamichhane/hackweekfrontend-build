(this["webpackJsonpjunctionapp-frontend"]=this["webpackJsonpjunctionapp-frontend"]||[]).push([[27],{1217:function(e,a,t){"use strict";var n=t(127),l=t(126);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=l(t(0)),i=(0,n(t(128)).default)(r.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");a.default=i},1281:function(e,a,t){"use strict";var n=t(0),l=t.n(n),r=t(56),i=t(405),c=t(57),o=t(19),m=t(34),u=t(95);const s=Object(r.a)(e=>({paper:{borderRadius:"10px",overflow:"hidden",boxShadow:"2px 7px 30px rgba(0, 0, 0, 0.04)",cursor:"pointer",position:"relative",transition:"all 0.2s ease","&:hover":{boxShadow:"2px 7px 30px rgba(0, 0, 0, 0.12)"}},image:{objectFit:"cover",height:"100%",width:"100%",minHeight:"130px"}}));a.a=({event:e,handleClick:a})=>{var r;const d=s(),b=Object(n.useCallback)(()=>{a(e)},[e,a]);return e?l.a.createElement(i.a,{className:d.paper,onClick:b},l.a.createElement(c.a,{container:!0,spacing:0},l.a.createElement(c.a,{item:!0,xs:12,md:3},l.a.createElement(u.a,{className:d.image,defaultImage:t(146),publicId:null===(r=e.coverImage)||void 0===r?void 0:r.publicId,transformation:{width:400,height:150}})),l.a.createElement(c.a,{item:!0,xs:12,md:9},l.a.createElement(o.a,{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",p:2},l.a.createElement(m.a,{variant:"button"},e._eventTimeFormatted),l.a.createElement(m.a,{variant:"h6"},e.name),l.a.createElement(m.a,{variant:"subtitle1"},e._eventLocationFormatted))))):null}},1567:function(e,a,t){"use strict";var n=t(127),l=t(126);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=l(t(0)),i=(0,n(t(128)).default)(r.createElement("path",{d:"M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z"}),"ThumbUp");a.default=i},1787:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(35),i=t(78),c=t(129),o=t(151),m=t(43),u=t(68),s=t(8),d=t(19),b=t(34),p=t(57),g=t(115),h=t(41),E=t(497),f=t(10),v=t(53),x=t(317),j=()=>{const{t:e}=Object(x.a)(),[a,t]=Object(n.useState)(""),[r,i]=Object(n.useState)(),[c,o]=Object(n.useState)(!1),m=Boolean(r),j=Object(s.d)(),O=Object(s.e)(f.a);Object(n.useEffect)(()=>{m&&(a.length<5?i(e("Name_must_five_")):a.length>=50?i(e("Name_must_under_")):i())},[a,m,e]);const k=Object(n.useCallback)(()=>a.length<5?(i(e("Name_must_five_")),!1):!(a.length>=50)||(i(e("Name_must_under_")),!1),[a.length,e]),w=Object(n.useCallback)(()=>{k()&&(o(!0),E.a.createBanner(O,{name:a}).then(e=>{console.log("doing data",e),j(Object(u.e)("/admin/banner/"+e.slug)),j(v.d("Created "+e.name))}).catch(a=>{j(v.a(e("Unable_to_create_banner_")))}).finally(()=>{o(!1)}))},[k,O,a,j,e]);return l.a.createElement(d.a,{mt:3},l.a.createElement(b.a,{variant:"h6",gutterBottom:!0},"Create new frontpage banner"),l.a.createElement(p.a,{container:!0,spacing:2,direction:"row",alignItems:"flex-end"},l.a.createElement(p.a,{item:!0,xs:12},l.a.createElement(b.a,{variant:"caption",color:"error"},r)),l.a.createElement(p.a,{item:!0,xs:12,sm:9},l.a.createElement(g.a,{label:"Banner name",placeholder:"Banner name",value:a,onChange:t,disabled:c})),l.a.createElement(p.a,{item:!0,xs:12,sm:3},l.a.createElement(h.a,{disabled:m,onClick:w,loading:c,fullWidth:!0,color:"primary",variant:"contained"},e("Create_")))))},O=t(54),k=t(1054),w=t(237),y=t.n(w),S=t(1217),C=t.n(S),_=({data:e=[]})=>{const a=Object(s.d)(),{t:t}=Object(x.a)(),r=Object(s.e)(f.a),[i,c]=Object(n.useState)(e);Object(n.useEffect)(()=>{E.a.getAllBanners().then(e=>{e&&c(e)})},[]);const o=Object(n.useCallback)(e=>{E.a.deleteBanner(r,e),c(i.filter((function(a){return a.slug!==e})))},[i,r]);return l.a.createElement(d.a,{mt:3},l.a.createElement(p.a,{container:!0,spacing:3},i.map(e=>l.a.createElement("div",{key:e.slug},l.a.createElement(d.a,{p:2},l.a.createElement(k.a,{edge:"end","aria-label":"delete",onClick:()=>o(e.slug)},l.a.createElement(y.a,null)),l.a.createElement(k.a,{edge:"end","aria-label":"edit",onClick:()=>a(Object(u.e)("admin/banner/"+e.slug))},l.a.createElement(C.a,null)),l.a.createElement("span",null,e.name),l.a.createElement("span",null,e.icon),e.buttons.map(e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,e.text)," ",l.a.createElement("span",null,e.push)))),l.a.createElement(O.a,{variant:"middle"})))))},F=t(1281),B=t(1567),z=t.n(B),V=t(96),T=({data:e=[]})=>{const a=Object(s.d)(),{t:t}=Object(x.a)(),r=Object(s.e)(f.a),[i,c]=Object(n.useState)(e),[o,m]=l.a.useState(!1);Object(n.useEffect)(()=>{V.a.getUnapprovedEvents(r).then(e=>{e&&c(e)})},[r]);const g=Object(n.useCallback)(e=>{V.a.deleteEventBySlugAsOrganiser(r,e),c(i.filter((function(a){return a.slug!==e})))},[i,r]),h=Object(n.useCallback)(async e=>{try{await V.a.setApproved(r,e,!0),m(!0)}catch(t){console.log(t),a(v.a("All the required details for an event are not there."))}},[r]);return l.a.createElement(d.a,{mt:3},l.a.createElement(b.a,{variant:"h6",gutterBottom:!0},t("unapproved_events_")),l.a.createElement(p.a,{container:!0,spacing:3},i.map(e=>e.published?l.a.createElement("div",{key:e.slug},l.a.createElement(d.a,{p:2},l.a.createElement(k.a,{edge:"end","aria-label":"delete",onClick:()=>g(e.slug)},l.a.createElement(y.a,null)),l.a.createElement(k.a,{edge:"end","aria-label":"Approve",onClick:()=>h(e.slug)},l.a.createElement(z.a,{style:{color:o?"blue":""}})),l.a.createElement(F.a,{event:e,handleClick:e=>a(Object(u.e)(`/organise/${null===e||void 0===e?void 0:e.slug}/edit`))})),l.a.createElement(O.a,{variant:"middle"})):null)))},D=({data:e=[]})=>{const{t:a}=Object(x.a)(),t=Object(s.e)(f.a),[r,i]=Object(n.useState)(e);Object(n.useEffect)(()=>{V.a.getPublicEvents().then(e=>{e&&i(e)})},[]);const c=Object(n.useCallback)((e,a)=>{V.a.setFrontpagePriority(t,e.slug,e.frontPagePriority+a)},[t]);return l.a.createElement(d.a,{mt:3},l.a.createElement(b.a,{variant:"h6",gutterBottom:!0},a("event_priority_")),l.a.createElement(p.a,{container:!0,spacing:3},r.map(e=>l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{p:2},e.slug,l.a.createElement("button",{onClick:()=>c(e,1)},"+"),e.frontPagePriority,l.a.createElement("button",{onClick:()=>c(e,-1)},"-")),l.a.createElement(O.a,{variant:"middle"})))))},N=()=>l.a.createElement(i.a,{header:()=>l.a.createElement(c.a,null),footer:()=>l.a.createElement(o.a,null),render:()=>l.a.createElement(m.a,{center:!0},l.a.createElement(T,null),l.a.createElement(j,null),l.a.createElement(_,null),l.a.createElement(D,null))}),R=t(56),P=t(66),U=t(70),I=t(493),A=t(684),M=t(413),W=t(513),L=(t(1157),t(1146),t(308),t(36));const H=e=>e.admin.usersUpdated,$=(Object(L.a)(H,e=>Date.now()-H>3e5),e=>e.admin.rolesUpdated);Object(L.a)($,e=>Date.now()-$>3e5);var J=t(571),q=t.n(J);const Y={};function G(e){return{headers:{Authorization:"Bearer "+e}}}Y.getRoles=e=>q.a.get("/admin/roles",G(e)).then(e=>e.data),Y.getUsers=e=>q.a.get("/admin/users",G(e)).then(e=>e.data);var K=t(7);const Q={};function X(e){return{headers:{Authorization:"Bearer "+e}}}Q.createOrganization=(e,a)=>K.a.post("/organization",a,X(e)),Q.updateOrganization=(e,a,t)=>K.a.patch("/organization/"+a,t,X(e)),Q.getOrganizationBySlug=e=>K.a.get("/organization/"+e),Q.deleteOrganization=(e,a)=>K.a.delete("/organization/"+a,X(e)),Q.getOrganizations=()=>K.a.get("/organization");var Z=Q;const ee=Object(R.a)(e=>({topWrapper:{display:"flex",flexDirection:"column",alignItems:"center",background:"white",borderRadius:"7px",boxShadow:"2px 7px 15px rgba(0, 0, 0, 0.12)",padding:e.spacing(3),[e.breakpoints.up("md")]:{flexDirection:"row",alignItems:"flex-start"}},box:{background:"white",borderRadius:"7px",boxShadow:"2px 7px 30px rgba(0, 0, 0, 0.12)",padding:e.spacing(3)},imageUpload:{width:"300px",height:"300px"}}));var ae=()=>{const e=Object(r.j)(),a=Object(s.d)(),{t:t}=Object(x.a)(),{slug:i}=e.params,[c,o]=Object(n.useState)({});Object(n.useEffect)(()=>{W.a.getHackerpackBySlug(i).then(e=>{e&&o(e)})},[i]);const m=ee(),b=Object(s.e)(f.a),h=Object(n.useCallback)(e=>{const a={};return a.name=U.e(),a.description=U.e(),a.link=U.e().url(),a.icon=U.e().url().nullable(),a},[]),E=Object(n.useCallback)((e,t)=>{t.setSubmitting(!0),a(((e,a,t)=>async(n,l)=>await W.a.updateHackerpack(e,a,t))(b,i,e)).then(()=>{a(v.d("Changes saved!")),a(Object(u.e)("/admin"))}).catch(e=>{a(v.a("Something went wrong... Please try again"))}).finally(()=>{t.setSubmitting(!1)})},[a,b,i]);return l.a.createElement(P.f,{validationSchema:e=>U.c(e=>U.d().shape(h(e))),enableReinitialize:!0,initialValues:c,onSubmit:E},e=>l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{className:m.topWrapper},l.a.createElement(d.a,{flex:"1",display:"flex",flexDirection:"column"},l.a.createElement(p.a,{container:!0,spacing:3},l.a.createElement(p.a,{item:!0,xs:12,md:6},l.a.createElement(P.b,{name:"name",render:({field:e,form:a})=>l.a.createElement(g.a,{label:t("Name_"),value:e.value,onChange:t=>a.setFieldValue(e.name,t),onBlur:()=>a.setFieldTouched(e.name)})})),l.a.createElement(p.a,{item:!0,xs:12,md:6},l.a.createElement(P.b,{name:"description",render:({field:e,form:a})=>l.a.createElement(M.a,{label:t("Description_"),multiline:!0,value:e.value,onChange:t=>a.setFieldValue(e.name,t),onBlur:()=>a.setFieldTouched(e.name)})})),l.a.createElement(p.a,{item:!0,xs:12,md:6},l.a.createElement(P.b,{name:"icon",render:({field:e,form:a})=>l.a.createElement(d.a,{width:"100%",height:"100%",borderRadius:"50%",overflow:"hidden",position:"relative"},l.a.createElement(I.a,{value:e.value?{url:e.value}:void 0,onChange:t=>a.setFieldValue(e.name,t?t.url:null),uploadUrl:`/api/upload/hackerpack/${i}/icon/`,resizeMode:"cover"}))})),l.a.createElement(p.a,{item:!0,xs:12,md:6},l.a.createElement(P.b,{name:"link",render:({field:e,form:a})=>l.a.createElement(g.a,{label:t("Link_"),value:e.value,onChange:t=>a.setFieldValue(e.name,t),onBlur:()=>a.setFieldTouched(e.name)})}))))),l.a.createElement(A.a,{onSubmit:e.handleSubmit,errors:e.errors,dirty:e.dirty,loading:e.isSubmitting})))};const te=Object(R.a)(e=>({topWrapper:{display:"flex",flexDirection:"column",alignItems:"center",background:"white",borderRadius:"7px",boxShadow:"2px 7px 15px rgba(0, 0, 0, 0.12)",padding:e.spacing(3),[e.breakpoints.up("md")]:{flexDirection:"row",alignItems:"flex-start"}},box:{background:"white",borderRadius:"7px",boxShadow:"2px 7px 30px rgba(0, 0, 0, 0.12)",padding:e.spacing(3)},imageUpload:{width:"300px",height:"300px"}}));var ne=()=>{const e=Object(r.j)(),a=Object(s.d)(),{t:t}=Object(x.a)(),{slug:i}=e.params,c=e;console.log("router :>> ",c);const[o,m]=Object(n.useState)({});Object(n.useEffect)(()=>{E.a.getBannerBySlug(i).then(e=>{e&&m(e)})},[i]);const j=te(),O=Object(s.e)(f.a),k=Object(n.useCallback)(e=>{const a={};return a.name=U.e(),a.buttons=U.a().of(U.d().shape({text:U.e(),push:U.e()})),a.icon=U.e().url().nullable(),a},[]),w=Object(n.useCallback)((e,t)=>{console.log(e);const n={buttons:e.buttons,name:e.name,icon:e.icon};t.setSubmitting(!0),a(((e,a,t)=>async(n,l)=>await E.a.updateBanner(e,a,t))(O,i,n)).then(()=>{a(v.d("Changes saved!")),a(Object(u.e)("/admin"))}).catch(e=>{a(v.a("Something went wrong... Please try again"))}).finally(()=>{t.setSubmitting(!1)})},[a,O,i]);return l.a.createElement(P.f,{validationSchema:e=>U.c(e=>U.d().shape(k(e))),initialValues:o,enableReinitialize:!0,onSubmit:w},e=>l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{className:j.topWrapper},l.a.createElement(d.a,{flex:"1",display:"flex",flexDirection:"column"},l.a.createElement(p.a,{container:!0,spacing:3},l.a.createElement(p.a,{item:!0,xs:12,md:6},l.a.createElement(p.a,{container:!0,direction:"column"},l.a.createElement(p.a,{item:!0,xs:12,md:12},l.a.createElement(P.b,{name:"name",render:({field:e,form:a})=>l.a.createElement(g.a,{label:t("Name_"),value:e.value,onChange:t=>a.setFieldValue(e.name,t),onBlur:()=>a.setFieldTouched(e.name)})})),l.a.createElement(p.a,{item:!0,xs:12,md:12},l.a.createElement(b.a,null,'The name of the item isn\'t basically used for anything, but the Text on the button is shown on top of the image. You can add several buttons. The push destination is important, for now only tested inside the platform, but should be used so that you take everything after "app.hackjunction.com", including the last slash, and add it there. For example "/pricing" at the push destiation would lead to app.hackjunction.com/pricing')))),l.a.createElement(p.a,{item:!0,xs:12,md:6},l.a.createElement(P.b,{name:"icon",render:({field:e,form:a})=>l.a.createElement(d.a,{width:"100%",height:"200px",overflow:"hidden",position:"relative"},l.a.createElement(I.a,{value:e.value?{url:e.value}:void 0,onChange:t=>a.setFieldValue(e.name,t?t.url:null),uploadUrl:`/api/upload/banner/${i}/icon/`,resizeMode:"cover"}))})),l.a.createElement(P.d,{name:"buttons",render:({push:a})=>l.a.createElement(p.a,{container:!0,spacing:3},l.a.createElement(p.a,{item:!0,xs:12,md:6},l.a.createElement(P.b,{name:"text",render:({field:e,form:a})=>l.a.createElement(g.a,{label:"Text on button",value:e.value,onChange:t=>a.setFieldValue(e.name,t),onBlur:()=>a.setFieldTouched(e.name)})})),l.a.createElement(p.a,{item:!0,xs:12,md:6},l.a.createElement(P.b,{name:"push",render:({field:e,form:a})=>l.a.createElement(g.a,{label:"Push destination",value:e.value,onChange:t=>a.setFieldValue(e.name,t),onBlur:()=>a.setFieldTouched(e.name)})})),l.a.createElement(p.a,{item:!0,xs:12,md:6},l.a.createElement(h.a,{type:"button",variant:"outlinedNew",color:"theme_blue",onClick:()=>a({text:e.values.text,push:e.values.push})},"Add button to image")))})))),l.a.createElement(A.a,{onSubmit:e.handleSubmit,errors:e.errors,dirty:e.dirty,loading:e.isSubmitting})))};const le=Object(R.a)(e=>({topWrapper:{display:"flex",flexDirection:"column",alignItems:"center",background:"white",borderRadius:"7px",boxShadow:"2px 7px 15px rgba(0, 0, 0, 0.12)",padding:e.spacing(3),[e.breakpoints.up("md")]:{flexDirection:"row",alignItems:"flex-start"}},box:{background:"white",borderRadius:"7px",boxShadow:"2px 7px 30px rgba(0, 0, 0, 0.12)",padding:e.spacing(3)},imageUpload:{width:"300px",height:"300px"}}));var re=()=>{const e=Object(r.j)(),a=Object(s.d)(),{t:t}=Object(x.a)(),{slug:i}=e.params,[c,o]=Object(n.useState)({});Object(n.useEffect)(()=>{Z.getOrganizationBySlug(i).then(e=>{e&&o(e)})},[i]);const m=le(),b=Object(s.e)(f.a),h=Object(n.useCallback)(e=>{const a={};return a.name=U.e(),a.about=U.e(),a.link=U.e().url(),a.icon=U.e().url().nullable(),a},[]),E=Object(n.useCallback)((e,t)=>{t.setSubmitting(!0),a(((e,a,t)=>async(n,l)=>await Z.updateOrganization(e,a,t))(b,i,e)).then(()=>{a(v.d("Changes saved!")),a(Object(u.e)("/admin"))}).catch(e=>{a(v.a("Something went wrong... Please try again"))}).finally(()=>{t.setSubmitting(!1)})},[a,b,i]);return l.a.createElement(P.f,{validationSchema:e=>U.c(e=>U.d().shape(h(e))),enableReinitialize:!0,initialValues:c,onSubmit:E},e=>l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{className:m.topWrapper},l.a.createElement(d.a,{flex:"1",display:"flex",flexDirection:"column"},l.a.createElement(p.a,{container:!0,spacing:3},l.a.createElement(p.a,{item:!0,xs:12,md:6},l.a.createElement(P.b,{name:"name",render:({field:e,form:a})=>l.a.createElement(g.a,{label:t("Name_"),value:e.value,onChange:t=>a.setFieldValue(e.name,t),onBlur:()=>a.setFieldTouched(e.name)})})),l.a.createElement(p.a,{item:!0,xs:12,md:6},l.a.createElement(P.b,{name:"about",render:({field:e,form:a})=>l.a.createElement(g.a,{label:t("Description_"),value:e.value,onChange:t=>a.setFieldValue(e.name,t),onBlur:()=>a.setFieldTouched(e.name)})})),l.a.createElement(p.a,{item:!0,xs:12,md:6},l.a.createElement(P.b,{name:"icon",render:({field:e,form:a})=>l.a.createElement(d.a,{width:"100%",height:"100%",borderRadius:"50%",overflow:"hidden",position:"relative"},l.a.createElement(I.a,{value:e.value?{url:e.value}:void 0,onChange:t=>a.setFieldValue(e.name,t?t.url:null),uploadUrl:`/api/upload/organization/${i}/icon/`,resizeMode:"cover"}))})),l.a.createElement(p.a,{item:!0,xs:12,md:6},l.a.createElement(P.b,{name:"link",render:({field:e,form:a})=>l.a.createElement(g.a,{label:t("Link_"),value:e.value,onChange:t=>a.setFieldValue(e.name,t),onBlur:()=>a.setFieldTouched(e.name)})}))))),l.a.createElement(A.a,{onSubmit:e.handleSubmit,errors:e.errors,dirty:e.dirty,loading:e.isSubmitting})))};a.default=()=>{const e=Object(r.j)();return l.a.createElement(r.d,null,l.a.createElement(r.b,{exact:!0,path:""+e.url,component:N}),l.a.createElement(r.b,{exact:!1,path:e.url+"/hackerpack/:slug",component:ae}),l.a.createElement(r.b,{exact:!1,path:e.url+"/banner/:slug",component:ne}),l.a.createElement(r.b,{exact:!1,path:e.url+"/organization/:slug",component:re}),l.a.createElement(r.a,{to:e.url}))}}}]);
//# sourceMappingURL=27.9349f5be.chunk.js.map